<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BannerEarn - Earn Money by Clicking Ads</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ... (previous CSS remains exactly the same) ... */

        /* New styles for banner ads affiliate */
        .banner-affiliate {
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 0.7rem;
            opacity: 0.8;
            background: rgba(0, 0, 0, 0.2);
            padding: 2px 8px;
            border-radius: 10px;
        }

        .banner:hover .banner-affiliate {
            opacity: 1;
        }

        /* Additional styles for the modal */
        .redirect-modal {
            text-align: center;
        }

        .redirect-modal h3 {
            color: #4f46e5;
            margin-bottom: 15px;
        }

        .redirect-modal p {
            margin-bottom: 20px;
            color: #6b7280;
        }

        .countdown {
            font-size: 2rem;
            color: #ef4444;
            font-weight: bold;
            margin: 20px 0;
        }

        .options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .skip-btn {
            background: #e5e7eb;
            color: #6b7280;
        }

        .skip-btn:hover {
            background: #d1d5db;
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <!-- ... (login modal content remains exactly the same) ... -->
    </div>

    <!-- Signup Modal -->
    <div class="modal" id="signupModal">
        <!-- ... (signup modal content remains exactly the same) ... -->
    </div>

    <!-- Redirect Modal -->
    <div class="modal" id="redirectModal">
        <div class="modal-content redirect-modal">
            <i class="fas fa-external-link-alt" style="font-size: 3rem; color: #4f46e5; margin-bottom: 20px;"></i>
            <h3>You're About to Earn Extra!</h3>
            <p>You'll be redirected to an affiliate offer where you can earn additional money. Completing offers will add bonus earnings to your BannerEarn wallet.</p>
            
            <div class="countdown" id="countdown">5</div>
            
            <p style="font-size: 0.9rem; color: #9ca3af;">
                <i class="fas fa-info-circle"></i> You'll earn â‚¹1 from the banner click PLUS extra from the affiliate offer
            </p>
            
            <div class="options">
                <button class="btn skip-btn" onclick="skipRedirect()">
                    <i class="fas fa-times"></i> Skip Offer
                </button>
                <button class="btn btn-primary" onclick="continueRedirect()">
                    <i class="fas fa-rocket"></i> Continue Now
                </button>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container" id="mainContainer" style="display: none;">
        <!-- Header -->
        <header>
            <div class="logo">
                <i class="fas fa-ad"></i>
                <h1>BannerEarn</h1>
            </div>
            <div class="user-info">
                <div class="backend-status" id="apiStatus">Checking backend status...</div>
                <div class="wallet">
                    <i class="fas fa-wallet"></i>
                    <span>Balance: â‚¹<span id="walletBalance">0</span></span>
                </div>
                <button class="btn btn-danger" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('dashboard')">
                <i class="fas fa-home"></i> Dashboard
            </button>
            <button class="nav-tab" onclick="showTab('banners')">
                <i class="fas fa-ad"></i> Click Banners
            </button>
            <button class="nav-tab" onclick="showTab('withdraw')">
                <i class="fas fa-rupee-sign"></i> Withdraw Money
            </button>
            <button class="nav-tab" onclick="showTab('history')">
                <i class="fas fa-history"></i> History
            </button>
            <button class="nav-tab" onclick="showTab('backend')">
                <i class="fas fa-server"></i> Backend Status
            </button>
        </div>

        <!-- Alert Messages -->
        <div class="alert success" id="successAlert">
            <i class="fas fa-check-circle"></i> <span id="successMessage"></span>
        </div>
        <div class="alert error" id="errorAlert">
            <i class="fas fa-exclamation-circle"></i> <span id="errorMessage"></span>
        </div>
        <div class="alert info" id="infoAlert">
            <i class="fas fa-info-circle"></i> <span id="infoMessage"></span>
        </div>

        <!-- Dashboard Tab -->
        <div class="content active" id="dashboardTab">
            <div class="dashboard">
                <div class="stats-card">
                    <h2>â‚¹<span id="totalEarnings">0</span></h2>
                    <p>Total Earnings</p>
                </div>
                <div class="stats-card">
                    <h2><span id="totalClicks">0</span></h2>
                    <p>Banners Clicked</p>
                </div>
            </div>

            <!-- Add affiliate earnings stats -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
                    <h3 style="font-size: 1.8rem;">â‚¹<span id="affiliateEarnings">0</span></h3>
                    <p>Affiliate Earnings</p>
                </div>
                <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
                    <h3 style="font-size: 1.8rem;"><span id="affiliateClicks">0</span></h3>
                    <p>Affiliate Clicks</p>
                </div>
                <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
                    <h3 style="font-size: 1.8rem;"><span id="affiliateConversions">0</span></h3>
                    <p>Affiliate Conversions</p>
                </div>
            </div>

            <div class="withdrawal-section">
                <h2><i class="fas fa-trophy"></i> How It Works</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="text-align: center; padding: 20px; background: #f8fafc; border-radius: 10px;">
                        <i class="fas fa-mouse-pointer" style="font-size: 2rem; color: #4f46e5; margin-bottom: 15px;"></i>
                        <h3 style="color: #1f2937; margin-bottom: 10px;">Click Banners</h3>
                        <p style="color: #6b7280;">Click on banners to earn â‚¹1 per click + affiliate offers</p>
                    </div>
                    <div style="text-align: center; padding: 20px; background: #f8fafc; border-radius: 10px;">
                        <i class="fas fa-external-link-alt" style="font-size: 2rem; color: #10b981; margin-bottom: 15px;"></i>
                        <h3 style="color: #1f2937; margin-bottom: 10px;">Earn More</h3>
                        <p style="color: #6b7280;">Complete affiliate offers for extra earnings</p>
                    </div>
                    <div style="text-align: center; padding: 20px; background: #f8fafc; border-radius: 10px;">
                        <i class="fas fa-rupee-sign" style="font-size: 2rem; color: #f59e0b; margin-bottom: 15px;"></i>
                        <h3 style="color: #1f2937; margin-bottom: 10px;">Withdraw</h3>
                        <p style="color: #6b7280;">Withdraw minimum â‚¹100 via UPI or Bank</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Banners Tab -->
        <div class="content" id="bannersTab">
            <div class="banner-container">
                <h2 style="text-align: center; margin-bottom: 30px; color: #1f2937;">
                    <i class="fas fa-ad"></i> Click Banners to Earn Money
                </h2>
                
                <!-- Banner 1 with affiliate -->
                <div class="banner" onclick="clickBanner(this)" data-affiliate="true">
                    <div style="text-align: center;">
                        <i class="fas fa-shopping-cart" style="font-size: 2rem; margin-bottom: 5px;"></i>
                        <div>Shop Now - Up to 70% Off!</div>
                        <div class="banner-affiliate">
                            <i class="fas fa-bolt"></i> +â‚¹50 Bonus
                        </div>
                    </div>
                </div>
                
                <!-- Banner 2 with affiliate -->
                <div class="banner" onclick="clickBanner(this)" data-affiliate="true">
                    <div style="text-align: center;">
                        <i class="fas fa-gamepad" style="font-size: 2rem; margin-bottom: 5px;"></i>
                        <div>New Games Released - Play Now!</div>
                        <div class="banner-affiliate">
                            <i class="fas fa-bolt"></i> +â‚¹100 Bonus
                        </div>
                    </div>
                </div>
                
                <!-- Banner 3 with affiliate -->
                <div class="banner" onclick="clickBanner(this)" data-affiliate="true">
                    <div style="text-align: center;">
                        <i class="fas fa-graduation-cap" style="font-size: 2rem; margin-bottom: 5px;"></i>
                        <div>Learn Coding - Free Courses Available</div>
                        <div class="banner-affiliate">
                            <i class="fas fa-bolt"></i> +â‚¹150 Bonus
                        </div>
                    </div>
                </div>
                
                <div class="click-info">
                    <i class="fas fa-info-circle"></i> 
                    Click any banner to earn â‚¹1 + extra from affiliate offers. 
                    Each banner can be clicked once per day.
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-success" onclick="refreshBanners()">
                    <i class="fas fa-sync-alt"></i> Refresh Banners (Available in 24h)
                </button>
            </div>

            <!-- Affiliate Earnings Info -->
            <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 20px; border-radius: 15px; margin-top: 30px;">
                <h3 style="color: #0369a1; margin-bottom: 15px;">
                    <i class="fas fa-gift"></i> Double Your Earnings!
                </h3>
                <p style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                    When you click a banner, you'll get:
                </p>
                <ul style="color: #475569; line-height: 1.6; margin-bottom: 15px;">
                    <li>â‚¹1 instantly added to your wallet</li>
                    <li>Option to complete affiliate offers for extra money (â‚¹50-â‚¹150 per offer)</li>
                    <li>Affiliate earnings are added to your BannerEarn balance</li>
                </ul>
                <p style="color: #dc2626; font-weight: bold;">
                    <i class="fas fa-exclamation-triangle"></i> Remember: Affiliate offers are optional but highly rewarding!
                </p>
            </div>
        </div>

        <!-- Withdraw Tab -->
        <div class="content" id="withdrawTab">
            <!-- ... (withdraw tab content remains exactly the same) ... -->
        </div>

        <!-- History Tab -->
        <div class="content" id="historyTab">
            <div class="transactions">
                <h2><i class="fas fa-history"></i> Transaction History</h2>
                
                <!-- Tabs for different transaction types -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <button class="btn btn-primary" onclick="filterTransactions('all')">All</button>
                    <button class="btn btn-success" onclick="filterTransactions('banner')">Banner Clicks</button>
                    <button class="btn btn-warning" onclick="filterTransactions('affiliate')">Affiliate Earnings</button>
                    <button class="btn btn-danger" onclick="filterTransactions('withdrawal')">Withdrawals</button>
                </div>
                
                <div class="transaction-list" id="transactionList">
                    <!-- Transactions will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Backend Status Tab -->
        <div class="content" id="backendTab">
            <!-- ... (backend tab content remains exactly the same) ... -->
        </div>
    </div>

    <script>
        // Backend URL
        const BACKEND_URL = 'https://earn-with-banner.vercel.app';
        const EARNINGS_PER_CLICK = 1;
        
        // Affiliate Links
        const LOGIN_AFFILIATE_LINK = 'https://sgben.com/link?z=10482245&var={SOURCE_ID}&ymid={CLICK_ID}';
        const BANNER_AFFILIATE_LINK = 'https://3vetz.com/link?z=10482273&var={SOURCE_ID}&ymid={CLICK_ID}';

        // User data
        let userData = {
            balance: 0,
            totalEarnings: 0,
            totalClicks: 0,
            clicksToday: 0,
            lastClickDate: null,
            affiliateClicks: 0,
            affiliateEarnings: 0,
            affiliateConversions: 0,
            transactions: []
        };

        // Variables for redirect modal
        let redirectUrl = '';
        let countdownInterval;
        let currentBanner = null;

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const user = JSON.parse(localStorage.getItem('user'));
            if (user) {
                showMainApp();
                loadUserData();
                checkBackendStatus();
                updateAffiliateStats();
            } else {
                showLogin();
            }

            // Initialize tracking stats
            initTrackingStats();

            // Form event listeners
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('signupForm').addEventListener('submit', handleSignup);
            document.getElementById('withdrawalForm').addEventListener('submit', handleWithdrawal);
            document.getElementById('withdrawMethod').addEventListener('change', handleWithdrawalMethodChange);
            
            // Simulate some conversions for demo (remove in production)
            simulateDemoConversions();
        });

        // Modified banner click function with affiliate integration
        function clickBanner(bannerElement) {
            const today = new Date().toDateString();
            
            // Check if user has already clicked today
            if (userData.lastClickDate === today && userData.clicksToday >= 3) {
                showAlert('info', 'You have reached your daily limit of 3 clicks. Come back tomorrow!');
                return;
            }
            
            // Reset daily clicks if it's a new day
            if (userData.lastClickDate !== today) {
                userData.clicksToday = 0;
                userData.lastClickDate = today;
            }
            
            // Store current banner for redirect
            currentBanner = bannerElement;
            
            // Check if banner has affiliate enabled
            const hasAffiliate = bannerElement.getAttribute('data-affiliate') === 'true';
            
            if (hasAffiliate) {
                // Show redirect modal
                showRedirectModal(bannerElement);
            } else {
                // Process regular banner click without affiliate
                processBannerClick(bannerElement);
            }
        }

        // Function to show redirect modal
        function showRedirectModal(bannerElement) {
            // Generate affiliate URL for this banner
            const clickId = 'banner_click_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            const sourceId = 'bannerearn_' + (getBannerText(bannerElement)).replace(/\s+/g, '_').toLowerCase();
            
            redirectUrl = BANNER_AFFILIATE_LINK
                .replace('{SOURCE_ID}', encodeURIComponent(sourceId))
                .replace('{CLICK_ID}', encodeURIComponent(clickId));
            
            // Show modal
            document.getElementById('redirectModal').classList.add('active');
            
            // Start countdown
            let count = 5;
            const countdownEl = document.getElementById('countdown');
            countdownEl.textContent = count;
            
            countdownInterval = setInterval(() => {
                count--;
                countdownEl.textContent = count;
                
                if (count <= 0) {
                    clearInterval(countdownInterval);
                    continueRedirect();
                }
            }, 1000);
        }

        // Function to continue with redirect
        function continueRedirect() {
            clearInterval(countdownInterval);
            
            // Hide modal
            document.getElementById('redirectModal').classList.remove('active');
            
            // Process banner click first
            processBannerClick(currentBanner);
            
            // Update affiliate stats
            userData.affiliateClicks++;
            saveUserData();
            updateAffiliateStats();
            
            // Save click to history
            const clickData = {
                id: Date.now(),
                type: 'affiliate_click',
                banner: getBannerText(currentBanner),
                url: redirectUrl,
                timestamp: new Date().toISOString()
            };
            
            let affiliateHistory = JSON.parse(localStorage.getItem('affiliateHistory') || '[]');
            affiliateHistory.push(clickData);
            localStorage.setItem('affiliateHistory', JSON.stringify(affiliateHistory.slice(-100)));
            
            // Open affiliate link in new tab
            window.open(redirectUrl, '_blank');
            
            // Show success message
            showAlert('success', 'Banner clicked! â‚¹1 added to wallet. Check the new tab for extra earnings opportunity!');
        }

        // Function to skip redirect
        function skipRedirect() {
            clearInterval(countdownInterval);
            
            // Hide modal
            document.getElementById('redirectModal').classList.remove('active');
            
            // Process banner click without affiliate
            processBannerClick(currentBanner);
            
            // Show message
            showAlert('info', 'Banner clicked! â‚¹1 added to wallet. You can try affiliate offers next time for extra earnings.');
        }

        // Function to process banner click
        function processBannerClick(bannerElement) {
            // Mark banner as clicked
            bannerElement.classList.add('clicked');
            
            // Update earnings
            userData.clicksToday++;
            userData.totalClicks++;
            userData.balance += EARNINGS_PER_CLICK;
            userData.totalEarnings += EARNINGS_PER_CLICK;
            
            // Add transaction
            userData.transactions.unshift({
                id: Date.now(),
                type: 'credit',
                amount: EARNINGS_PER_CLICK,
                description: 'Banner Click: ' + getBannerText(bannerElement),
                date: new Date().toISOString(),
                category: 'banner'
            });
            
            // Update UI
            updateUserData();
            
            // Disable banner for 5 seconds
            bannerElement.style.pointerEvents = 'none';
            setTimeout(() => {
                bannerElement.style.pointerEvents = 'auto';
            }, 5000);
            
            // Save data
            saveUserData();
        }

        // Helper function to get banner text
        function getBannerText(bannerElement) {
            const textElement = bannerElement.querySelector('div > div:nth-child(2)');
            return textElement ? textElement.textContent : 'Unknown Banner';
        }

        // Function to update affiliate stats
        function updateAffiliateStats() {
            document.getElementById('affiliateEarnings').textContent = userData.affiliateEarnings.toFixed(2);
            document.getElementById('affiliateClicks').textContent = userData.affiliateClicks;
            document.getElementById('affiliateConversions').textContent = userData.affiliateConversions;
        }

        // Function to record affiliate conversion
        function recordAffiliateConversion(amount) {
            userData.affiliateConversions++;
            userData.affiliateEarnings += amount;
            userData.balance += amount;
            userData.totalEarnings += amount;
            
            // Add transaction
            userData.transactions.unshift({
                id: Date.now(),
                type: 'credit',
                amount: amount,
                description: 'Affiliate Bonus',
                date: new Date().toISOString(),
                category: 'affiliate'
            });
            
            // Save and update
            saveUserData();
            updateUserData();
            updateAffiliateStats();
            
            // Show success message
            showAlert('success', `ðŸŽ‰ Congratulations! You earned â‚¹${amount} from affiliate offer!`);
            
            // Load transaction history if on history tab
            if (document.getElementById('historyTab').classList.contains('active')) {
                loadTransactionHistory();
            }
        }

        // Modified loadTransactionHistory function with filtering
        function loadTransactionHistory(filter = 'all') {
            const transactionList = document.getElementById('transactionList');
            transactionList.innerHTML = '';
            
            if (userData.transactions.length === 0) {
                transactionList.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 20px;">No transactions yet</p>';
                return;
            }
            
            // Filter transactions
            let filteredTransactions = userData.transactions;
            if (filter !== 'all') {
                filteredTransactions = userData.transactions.filter(t => t.category === filter);
            }
            
            if (filteredTransactions.length === 0) {
                transactionList.innerHTML = `<p style="text-align: center; color: #6b7280; padding: 20px;">No ${filter} transactions yet</p>`;
                return;
            }
            
            filteredTransactions.forEach(transaction => {
                const item = document.createElement('div');
                item.className = 'transaction-item';
                
                const typeIcon = transaction.type === 'credit' ? 'fa-plus-circle' : 'fa-minus-circle';
                const typeClass = transaction.type === 'credit' ? 'positive' : 'negative';
                const sign = transaction.type === 'credit' ? '+' : '-';
                
                // Add category badge
                let categoryBadge = '';
                if (transaction.category === 'affiliate') {
                    categoryBadge = '<span style="background: #f59e0b; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; margin-left: 10px;">Affiliate</span>';
                } else if (transaction.category === 'banner') {
                    categoryBadge = '<span style="background: #4f46e5; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; margin-left: 10px;">Banner</span>';
                }
                
                item.innerHTML = `
                    <div class="transaction-type">
                        <i class="fas ${typeIcon} ${typeClass}"></i>
                        <span>${transaction.description}</span>
                        ${categoryBadge}
                    </div>
                    <div class="transaction-amount ${typeClass}">
                        ${sign}â‚¹${transaction.amount.toFixed(2)}
                    </div>
                `;
                
                transactionList.appendChild(item);
            });
        }

        // Function to filter transactions
        function filterTransactions(category) {
            loadTransactionHistory(category);
        }

        // Modified loadUserData function to include affiliate stats
        function loadUserData() {
            const savedData = localStorage.getItem('userData');
            if (savedData) {
                userData = JSON.parse(savedData);
            }
            updateUserData();
            updateAffiliateStats();
            loadTransactionHistory();
        }

        // Add this function for demo affiliate conversions
        function simulateDemoConversions() {
            // Check if we should simulate an affiliate conversion (15% chance if user has affiliate clicks)
            if (userData.affiliateClicks > 0 && Math.random() < 0.15) {
                // Wait 5-10 seconds then show conversion
                setTimeout(() => {
                    const amount = Math.floor(Math.random() * 150) + 50;
                    recordAffiliateConversion(amount);
                }, Math.random() * 5000 + 5000);
            }
        }

        // ... (rest of the JavaScript functions remain the same, including:)
        // checkBackendStatus(), testBackendConnection(), handleLogin(), handleSignup(), 
        // handleWithdrawal(), showLogin(), showSignup(), showMainApp(), 
        // showTab(), showAlert(), logout(), etc.

        // Backend connection functions (same as before)
        async function checkBackendStatus() {
            const statusEl = document.getElementById('apiStatus');
            try {
                const response = await fetch(`${BACKEND_URL}/api/health`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    statusEl.textContent = 'âœ… Backend Connected';
                    statusEl.className = 'backend-status online';
                } else {
                    statusEl.textContent = 'âš ï¸ Backend Error';
                    statusEl.className = 'backend-status offline';
                }
            } catch (error) {
                statusEl.textContent = 'âŒ Backend Offline';
                statusEl.className = 'backend-status offline';
            }
        }

        // User authentication functions (same as before)
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            if (!email || !password) {
                showAlert('error', 'Please fill in all fields');
                return;
            }
            
            // For demo purposes, accept any login
            const user = {
                email: email,
                name: email.split('@')[0],
                joined: new Date().toISOString()
            };
            
            localStorage.setItem('user', JSON.stringify(user));
            showMainApp();
            loadUserData();
            checkBackendStatus();
            showAlert('success', `Welcome back, ${user.name}!`);
        }

        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            
            // Validation
            if (!name || !email || !phone || !password || !confirmPassword) {
                showAlert('error', 'Please fill in all fields');
                return;
            }
            
            if (password !== confirmPassword) {
                showAlert('error', 'Passwords do not match');
                return;
            }
            
            // Create user
            const user = {
                name: name,
                email: email,
                phone: phone,
                joined: new Date().toISOString()
            };
            
            localStorage.setItem('user', JSON.stringify(user));
            showMainApp();
            loadUserData();
            checkBackendStatus();
            showAlert('success', `Account created successfully, ${name}!`);
        }

        // UI helper functions (same as before)
        function showLogin() {
            document.getElementById('signupModal').classList.remove('active');
            document.getElementById('loginModal').classList.add('active');
        }

        function showSignup() {
            document.getElementById('loginModal').classList.remove('active');
            document.getElementById('signupModal').classList.add('active');
        }

        function showMainApp() {
            document.getElementById('loginModal').classList.remove('active');
            document.getElementById('signupModal').classList.remove('active');
            document.getElementById('mainContainer').style.display = 'block';
        }

        function showAlert(type, message) {
            const alert = document.getElementById(type + 'Alert');
            const messageSpan = document.getElementById(type + 'Message');
            messageSpan.textContent = message;
            alert.style.display = 'block';
            
            setTimeout(() => {
                alert.style.display = 'none';
            }, 5000);
        }

        // ... (other existing functions remain the same) ...
    </script>
</body>
                                                                                                                       </html>
